function convertUrlsToString(urls, prefix) {
    return urls.map(obj => obj.url.replace(new RegExp(`.*${prefix}`), prefix)).join(',');
}

async function weather(code,key) {
    const img = {
        rain: 'data:image/png;base64,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',
        sun: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1NzJGMjNEQ0Y3MTBFNjExQjJENDhFMzcwMUQ5MEIxNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1QzU2RTcxNzEwRjgxMUU2OUFGQkQzRDVFNjMyNTdCNiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1QzU2RTcxNjEwRjgxMUU2OUFGQkQzRDVFNjMyNTdCNiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjU3MkYyM0RDRjcxMEU2MTFCMkQ0OEUzNzAxRDkwQjE3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3MkYyM0RDRjcxMEU2MTFCMkQ0OEUzNzAxRDkwQjE3Ii8+IDwvcmRmOkRlc2NyaXB0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',
        cloud:
            'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1NzJGMjNEQ0Y3MTBFNjExQjJENDhFMzcwMUQ5MEIxNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2NjJCODZCMDEwRjgxMUU2ODZBQTg2REJFRjUwNTFBNiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2NjJCODZBRjEwRjgxMUU2ODZBQTg2REJFRjUwNTFBNiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjU3MkYyM0RDRjcxMEU2MTFCMkQ0OEUzNzAxRDkwQjE3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3MkYyM0RDRjcxMEU2MTFCMkQ0OEUzNzAxRDkwQjE3Ii8+IDwvcmRmOkRlc2NyaXB0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',
        snow: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1NzJGMjNEQ0Y3MTBFNjExQjJENDhFMzcwMUQ5MEIxNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5QUFCMUUzRTEwRkExMUU2QjRDQUI2Q0Q2NTNDNzkxNCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5QUFCMUUzRDEwRkExMUU2QjRDQUI2Q0Q2NTNDNzkxNCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjVDMkYyM0RDRjcxMEU2MTFCMkQ0OEUzNzAxRDkwQjE3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3MkYyM0RDRjcxMEU2MTFCMkQ0OEUzNzAxRDkwQjE3Ii8+IDwvcmRmOkRlc2NyaXB0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',
    };
    return await fetch(`https://restapi.amap.com/v3/weather/weatherInfo?city=${code}&key=${key}`)
        .then((res) => res.json())
        .then((res) => {
            const obj = res?.lives[0];
            switch (true) {
                case obj.weather.includes('阴'):
                    obj.icon = img.cloud;
                    return obj;
                case obj.weather.includes('晴'):
                    obj.icon = img.sun;
                    return obj;
                case obj.weather.includes('雪'):
                    obj.icon = img.snow;
                    return obj;
                case obj.weather.includes('雨'):
                    obj.icon = img.rain;
                    return obj;
                default:
                    // 当不包含"云"和"晴"时的默认情况
                    break;
            }
            return obj;
        });
}

export default {
    convertUrlsToString,
    weather
}
